# 统计

## 基础

x 可以为行向量或者列向量

平均数：`mean(x)`

中位数：`median(x)`

方差：`var(x)`

标准差：`std(x)`

极差（最大最小值之差）：`range(x)`

偏度：`skewness(x)`

![QQ截图20200517103604.png](https://i.loli.net/2020/05/17/rLPqiD6y7SvCOG3.png)

峰度：`kurtosis(x)`

峰度越大，数据分布的顶峰会显得越尖、越陡峭.

绘制频率直方图： `hist(data,k)`

绘制带有密度曲线的频率直方图： `histfit(data,k)`'

绘制累计频率直方图(经验分布函数图)：`cdfplot(data)`

其中data表示需要分析的观测数据，k表示划分的小区间的个数，即准备将数据分成k组来计数.

![QQ截图20200517104214.png](https://i.loli.net/2020/05/17/rHdaW6iqSjYyKQD.png)

## 参数估计

### 极大似然估计

极大似然估计：`phat=mle(data)`

### 区间估计

区间估计：有一组数据，设定某一个概率 P，区间估计就是获得一个区间，这些数据落在该区间内的概率为 P

置信水平：即某个数字 a，P = 1 - a （默认为0.05）

区间为 (a, b)，b 为置信上限，a 为置信下限

若已经知道了一组数据来自正态分布总体，但是不知道正态分布总体的函数。要求区间估计：

调用格式（正态分布）：

`[muhat, sigmahat, muci, sigmaci]=normfit(X,alpha)`

alpha 为置信水平，缺省值为0.05

其中：

- 返回值 muhat 是正态分布的均值的点估计值；
- sigmahat 是标准差的点估计；
- muci 是均值的区间估计；
- sigmaci 是标准差的区间估计.
- X 为矩阵时，则对每一列向量进行计算。

其它分布的参数估计命令

`[muhat, muci]=expfit(X,alpha)`

在显著性水平alpha下，指数分布的数据X的均值的
点估计及其区间估计.

`[lamhat, lamaci]=poissfit(X,alpha)`

在显著性水平alpha下，泊松分布的数据 X 的参数的点估计及其区间估计.

`[phat, pci]=weibfit(X,alpha)`

在显著性水平alpha下，求Weibull分布的数据X 的参
数的点估计及其区间估计.

`[ahat, bhat, aci, bci]=unifit(X, alpha)`

在显著性水平alpha下，求均匀分布的数据X 的参
数a和b的点估计及其区间估计.

## 参数检验

- 参数检验：已知总体的分布函数类型，是对总体的参数及其有关性质出明确的判断

对于单个正态总体𝑿~𝑵(𝝁, 𝝈²)

- 方差𝝈已知时采用 **z 检验**

- 方差𝝈未知采用 **t 检验**

### z 检验

命令 `ztest` 函数

功能：给定方差条件下进行正态总体均值得检验

语法：

- `h=ztest(x,m,sigm);`
- `h=ztest(x,m,sigm,alpha);`
- `[h,sig,ci]=ztest(x,m,sigm,alpha,tail);`

h=1,则拒绝原假设，h=0, 则接收原假设

通常来说就是给定一个标准差 sigm，在某个置信水平 a 上来验证样本均值是否为 m

![QQ截图20200517112819.png](https://i.loli.net/2020/05/17/RoMJVnugZX2Ffbp.png)

也就是说，如果要进行验证的均值落在 ci 当中，则接受原假设

例：

某批矿砂的5个样品中的镍含量，经测定为（%）

3.25 3.27 3.24 3.26 3.24

设测定值总体服从正态分布，标准差为0.04，问在0.01水平上能否接受假设：这批镍含量的均值为3.25。

命令如下

```matlab
x=[3.25 3.27 3.24 3.26 3.24]；
[h,sig,ci]=ztest(x,3.25,0.04,0.01)

>> h=0
sig=0.9110
ci=[3.2059 3.298]
```

### t 检验

命令： `ttest` 函数

功能：未知方差条件下进行正态总体均值得检验

语法：

- `h=ttest(x,m);`
- `h=ttest(x,m,alpha);`
- `[h,sig,ci]=ttest(x,m,alpha,tail);`

 h=1,则拒绝原假设，h=0, 则接收原假设

格式的使用和参数的取值含义与ztest大致相同

例子：

测得一批刚件20个样品的屈服点（单位：T/mm2）为：

 4.98 5.11 5.20 5.11 5.00 5.61 4.88 5.27 5.38 5.20
 5.46 5.27 5.23 4.96 5.35 5.15 5.35 4.77 5.33 5.54

设屈服点服从正态分布，在0.05水平上，检验该样本的均值是
否为5.20，的假设检验。

```matlab
x=[4.98 5.11 5.20 5.11 5.00 5.61 4.88 5.27 5.38 5.20 5.46 5.27 5.23 4.96 5.35 5.15 5.35 4.77 5.33 5.54]；
m=mean(x)
[h,sig,ci]=ttest(x,5.20,0.05)
```

结果：

```matlab
m=5.2075
h=0
sig=0.8796
ci=[5.1052 5.3098]
```

### 针对两个样本的 t 检验

命令 `ttest2` 函数

功能：两个样本均值差异的t检验

语法：

- [h,significance,ci]=ttest2(x,y);
- [h,significance,ci]=ttest2(x,y,alpha);
- [h,significance,ci]=ttest2(x,y,alpha, tail);

h=1,则拒绝原假设，h=0, 则接受原假设

格式的使用和参数的取值含义与ttest大致相同

## 非参数检验

### JB 检验

**数学原理**： Jarque-Bera检验是评价X服从**正态分布**的假设是否成立。该检验基于样本偏度和峰度，正态分布样本偏度接近于0，峰度接近于3。

函数名称：`jbtest`

语法：

- `H=jbtest(x);`
- `H=jbtest(x, alpha);`
- `[H,p,jbstat,cv]=jbtest(x, alpha);`

 H=1,则拒绝服从正态，H=0, 则接收服从正态

alpha为显著水平，p为p值，jbstat为检验统计量的值，cv为确定是否拒绝原假设的的临界值
